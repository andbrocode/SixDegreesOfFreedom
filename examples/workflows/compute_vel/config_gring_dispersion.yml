# Configuration file for G-ring velocity dispersion curve computation
# Compatible with DEV_compute_dispersion.py (uses compute_dispersion_curve)

# =============================================================================
# DATA SOURCE CONFIGURATION
# =============================================================================
data_source: fdsn

# FDSN clients
fdsn_client_rot: LMU  # For rotation data (RLAS)
fdsn_client_tra: BGR  # For translation data (WET)

# SEED identifiers for G-ring
seed: XX.RLAS..  # Output stream identifier
rot_seed:
  - BW.RLAS..BJZ  # Rotation sensor (vertical rotation rate)

tra_seed:
  - GR.WET..BHZ   # Translation sensor (vertical)
  - GR.WET..BHN   # Translation sensor (north)
  - GR.WET..BHE   # Translation sensor (east)

# =============================================================================
# DATA PROCESSING PARAMETERS
# =============================================================================
rot_remove_response: true
tra_remove_response: true

resample_rate: 5  # Resample rate in Hz

# =============================================================================
# FREQUENCY BAND CONFIGURATION
# =============================================================================
freq_min: 0.1        # Minimum frequency in Hz
freq_max: 1.0        # Maximum frequency in Hz
octave_fraction: 3   # Fraction of octave for band division (3 = 1/3 octave)

# =============================================================================
# WAVE TYPE PARAMETERS
# =============================================================================
wave_type: "love"    # 'love' or 'rayleigh'

# =============================================================================
# BACKAZIMUTH COMPUTATION PARAMETERS
# =============================================================================
cc_method: "max"      # 'max' or 'mid' for backazimuth computation
twin_factor: 6.0      # Window length factor (window = twin_factor / center_frequency)
twin_overlap: 0.5     # Overlap fraction between windows (0-1)
baz_step: 1           # Step size in degrees for backazimuth search (default: 1)
use_theoretical_baz: false  # If true, uses theoretical backazimuth instead of computing it
cc_threshold: 0.6     # Minimum cross-correlation coefficient threshold for velocity computation

# =============================================================================
# VELOCITY COMPUTATION PARAMETERS
# =============================================================================
method: "odr"   # 'odr' or 'ransac' or 'theilsen' for velocity computation
zero_intercept: true    # Force intercept to be zero if True
r_squared_threshold: 0.0  # Minimum R-squared value for regression quality (0.0 = no filtering)

# =============================================================================
# PROCESSING CONFIGURATION
# =============================================================================
n_processes: 4        # Number of parallel processes for time windows
n_jobs: null          # Number of parallel jobs for frequency bands within compute_dispersion_curve
                      # null = disable parallelization, positive int = use that many workers
hours_per_window: 3    # Subdivide days into time windows of this many hours (default: 3)
verbose: true         # Enable verbose output for detailed progress information

# =============================================================================
# OUTPUT CONFIGURATION
# =============================================================================
output_dir: ./test/
log_dir: ./test/logs/

# Optional: Create daily dispersion curve plots
plot_dispersion: true  # Set to true to generate daily dispersion curve plots
